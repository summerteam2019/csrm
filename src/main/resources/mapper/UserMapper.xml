<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kb.csrm.user.mapper.UserMapper">
    <resultMap id="BaseResultMap" type="com.kb.csrm.user.dto.UserDto">
        <result column="user_id" property="userId" jdbcType="INTEGER" />
        <result column="user_name" property="userName" jdbcType="INTEGER" />
        <result column="account" property="account" jdbcType="VARCHAR" />
        <result column="password" property="password" jdbcType="INTEGER" />
        <result column="role_id" property="roleId" jdbcType="VARCHAR" />
        <result column="mail" property="mail" jdbcType="VARCHAR" />
        <result column="college_id" property="collegeId" jdbcType="INTEGER" />
        <result column="faculty_id" property="facultyId" jdbcType="INTEGER" />
        <result column="age" property="age" jdbcType="INTEGER" />
        <result column="education" property="education" jdbcType="VARCHAR" />
        <result column="pw_question" property="roleId" jdbcType="VARCHAR" />
        <result column="pw_answer" property="pwAnswer" jdbcType="VARCHAR" />
    </resultMap>

    <insert id="insertUser"  parameterType="com.kb.csrm.user.dto.UserDto">
        insert into user(
        user_id,
        user_name,
        account,
        password,
        role_id,
        mail,
        college_id,
        faculty_id,
        age,
        education,
        pw_question,
        pw_answer
        )values (
        #{userId},
        #{userName},
        #{account},
        #{password},
        #{roleId},
        #{mail},
        #{collegeId},
        #{facultyId},
        #{age},
        #{education},
        #{pwQuestion},
        #{pwAnswer}
        )
    </insert>

    <select id="selectUserById" parameterType="double" resultMap="BaseResultMap">
        SELECT
        user_id,
        user_name,
        account,
        password,
        role_id,
        mail,
        college_id,
        faculty_id,
        age,
        education,
        pw_question,
        pw_answer
        FROM user
        WHERE user_id = #{userId}
    </select>
</mapper>